{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/harry-potter-characters/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/harry-potter-characters/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/harry-potter-characters/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{HttpGet}from\"../core/store/httpHelper\";import{Card}from\"../core/components/Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characterList=_useState2[0],setCharacterList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchList=_useState4[0],setSearchList=_useState4[1];useEffect(function(){var getCharacters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var charList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return HttpGet();case 3:charList=_context.sent;setCharacterList(charList);setSearchList(charList);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getCharacters(){return _ref.apply(this,arguments);};}();getCharacters();},[]);var filterCharacters=function filterCharacters(e){var _e$target;var searchQuery=e===null||e===void 0?void 0:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.value.toLowerCase();if(searchQuery){var filteredCharacters=characterList.filter(function(character){return character.name.toLowerCase().includes(searchQuery)||character.house.toLowerCase().includes(searchQuery)||character.actor.toLowerCase().includes(searchQuery);});if(filteredCharacters.length===0){setSearchList([{name:\"No character found\"}]);}else{setSearchList(filteredCharacters);}}else{setSearchList(characterList);}};var Characters=function Characters(){return!!searchList.length&&searchList.map(function(character,index){if(character.name===\"No character found\"){return/*#__PURE__*/_jsx(\"div\",{className:\"col col-12 text-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"No character found\"})},index);}else{return/*#__PURE__*/_jsx(Card,{character:character},index);}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row m-0 m-5 justify-content-lg-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col col-12 text-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Harry Potter Characters\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-12 mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:filterCharacters,type:\"text\",className:\"form-control\",placeholder:\"Search for a character\",\"aria-label\":\"Search for a character\",\"aria-describedby\":\"img-search\",autoFocus:true}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text rounded-0 rounded-end mdi mdi-magnify\",id:\"img-search\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-3 charList\",children:/*#__PURE__*/_jsx(Characters,{})})})]})});};","map":{"version":3,"names":["useState","useEffect","HttpGet","Card","Home","characterList","setCharacterList","searchList","setSearchList","getCharacters","charList","console","error","filterCharacters","e","searchQuery","target","value","toLowerCase","filteredCharacters","filter","character","name","includes","house","actor","length","Characters","map","index"],"sources":["C:/Users/user/Desktop/harry-potter-characters/src/modules/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { HttpGet } from \"../core/store/httpHelper\";\nimport { Card } from \"../core/components/Card\";\n\nexport const Home = () => {\n  const [characterList, setCharacterList] = useState([]);\n  const [searchList, setSearchList] = useState([]);\n\n  useEffect(() => {\n    const getCharacters = async () => {\n      try {\n        let charList = await HttpGet();\n        setCharacterList(charList);\n        setSearchList(charList);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    getCharacters();\n  }, []);\n\n  const filterCharacters = (e) => {\n    let searchQuery = e?.target?.value.toLowerCase();\n    if (searchQuery) {\n      const filteredCharacters = characterList.filter((character) => {\n        return (\n          character.name.toLowerCase().includes(searchQuery) ||\n          character.house.toLowerCase().includes(searchQuery) ||\n          character.actor.toLowerCase().includes(searchQuery)\n        );\n      });\n      if (filteredCharacters.length === 0) {\n        setSearchList([{ name: \"No character found\" }]);\n      } else {\n        setSearchList(filteredCharacters);\n      }\n    } else {\n      setSearchList(characterList);\n    }\n  };\n\n  const Characters = () => {\n    return (\n      !!searchList.length &&\n      searchList.map((character, index) => {\n        if (character.name === \"No character found\") {\n          return (\n            <div key={index} className=\"col col-12 text-center\">\n              <h3>No character found</h3>\n            </div>\n          );\n        } else {\n          return <Card key={index} character={character} />;\n        }\n      })\n    );\n  };\n\n  return (\n    <>\n      <div className=\"row m-0 m-5 justify-content-lg-center\">\n        <div className=\"col col-12 text-center\">\n          <h3>Harry Potter Characters</h3>\n        </div>\n        <div className=\"col col-12 mt-4\">\n          <div className=\"input-group mb-3\">\n            <input\n              onChange={filterCharacters}\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search for a character\"\n              aria-label=\"Search for a character\"\n              aria-describedby=\"img-search\"\n              autoFocus\n            />\n            <div className=\"input-group-prepend\">\n              <span\n                className=\"input-group-text rounded-0 rounded-end mdi mdi-magnify\"\n                id=\"img-search\"\n              ></span>\n            </div>\n          </div>\n        </div>\n        <div className=\"col col-12\">\n          <div className=\"input-group mb-3 charList\">\n            <Characters />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}